<view>
  <background isHighlight="true"></background>
  <t-tabs defaultValue="{{1}}" theme="card" bing:change="onTabsChange">
    <t-tab-panel label="排查明细" value="1">
      <t-tabs value="{{reportType}}" bind:change="onOneTabsChange">
        <t-tab-panel label="日管控明细" value="1"></t-tab-panel>
        <t-tab-panel label="周排查明细" value="2"></t-tab-panel>
        <t-tab-panel label="月调度明细" value="3"></t-tab-panel>
        <view class="report-profile">
          <view class="rp-record">
            <view class="rpr-top">
              <view class="rpr-top-left">{{dateValue[1]}}月{{dateType}}</view>
              <view class="rpr-top-right" bindtap="onSeasonPicker">
                <view>其他月份</view>
                <image
                  class="rpr-top-img"
                  src="https://prod-2gdukdnr11f1f68a-1320540808.tcloudbaseapp.com/image/right_icon.png?sign=ada09695e56c3586b37e808eac1157e7&t=1694003113"
                ></image>
              </view>
              <t-picker
                visible="{{dateVisible}}"
                value="{{dateValue}}"
                data-key="date"
                title="选择时间"
                cancelBtn="取消"
                confirmBtn="确认"
                bindchange="onPickerChange"
                bindcancel="onPickerCancel"
              >
                <t-picker-item options="{{years}}"></t-picker-item>
                <t-picker-item options="{{seasons}}"></t-picker-item>
              </t-picker>
            </view>
            <view class="rpr-content">
              <t-progress color="#FF3E3E" stroke-width="20" theme="circle" percentage="{{percentage}}" />
              <view class="rpr-record">
                <view class="rpr-record-item">
                  <view>合格项</view>
                  <view class="text-blue">{{reportProfileDetail.passed_count}}</view>
                </view>
                <view class="rpr-record-item">
                  <view>不合格项</view>
                  <view class="text-red">{{reportProfileDetail.unpassed_count}}</view>
                </view>
                <view class="rpr-record-item">
                  <view>不合格天数</view>
                  <view class="text-red">{{reportProfileDetail.unpassed_days}}</view>
                </view>
              </view>
            </view>
          </view>
          <view class="rp-list">
            <view class="rp-item" wx:for="{{reportProfileList}}" wx:key="index" wx:for-item="reportItem">
              <view class="rp-item-left">
                <view class="rpil-date">{{ reportItem.dateCn }}</view>
                <!-- <view class="rpil-type">{{ reportItem.dateType }}</view> -->
              </view>
              <view class="{{ reportItem.unqualifiedTotal ? 'rp-item-right-red' : 'rp-item-right'}}">
                <view class="rpir-top">
                  <view>共{{ reportItem.total }}项</view>
                  <view wx:if="{{reportItem.unqualifiedTotal > 0}}">{{ reportItem.unqualifiedTotal }}项不合格</view>
                  <view wx:else>全部合格</view>
                </view>
                <view class="rpir-center">
                  {{ reportItem.submitTime }} | {{ reportItem.submitUser }}</view
                >
                <view class="rpir-bottom"> {{ reportItem.address }}</view>
              </view>
            </view>
          </view>
        </view>
      </t-tabs>
    </t-tab-panel>
    <t-tab-panel label="检查报告" value="2">
      <t-tabs value="{{reportType}}" bind:change="onSecondTabsChange">
        <t-tab-panel label="日报告" value="1"></t-tab-panel>
        <t-tab-panel label="周报告" value="2"></t-tab-panel>
        <t-tab-panel label="月报告" value="3"></t-tab-panel>
        <view class="report-profile">
          <view class="rpr-top">
            <view class="rpr-top-left">{{dateValue[1]}}月</view>
            <view class="rpr-top-right" bindtap="onSeasonPicker">
              <view>其他月份</view>
              <image
                class="rpr-top-img"
                src="https://prod-2gdukdnr11f1f68a-1320540808.tcloudbaseapp.com/image/right_icon.png?sign=ada09695e56c3586b37e808eac1157e7&t=1694003113"
              ></image>
            </view>
          </view>
          <view class="rp-list">
            <view class="rp-item" wx:for="{{reportList}}" wx:key="index" wx:for-item="item" bindtap="goDailyStats">
              <!-- "enterprise_id": "string",
    "enterprise_name": "string",
    "address": "string",
    "business_license": "string",
    "business_license_image": "string",
    "legal_name": "string",
    "business_type": 0 -->
              <view class="ri-item">
                <view>
                  
                </view>
              </view>
            </view>
          </view>
        </view>
      </t-tabs>
    </t-tab-panel>
  </t-tabs>

  <t-toast id="t-toast" />
</view>
